import a, { createContext as c, useRef as i, useContext as l, useState as r, useEffect as s } from "react";
import { jsxs as e, jsx as n, Fragment as t } from "react/jsx-runtime";
const d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"],b=(e,n)=>{const t=e.getFullYear().toString(),a=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),c=e.getSeconds().toString().padStart(2,"0"),l=_[e.getMonth()].slice(0,3),b=_[e.getMonth()],p=d[e.getDay()],u=o[e.getDay()];let g=n.replace("yyyy",t);return g=g.replace("yy",t.slice(-2)),g=g.replace("MMMM",b),g=g.replace("MMM",l),g=g.replace("MM",a),g=g.replace("dddd",u),g=g.replace("ddd",p),g=g.replace("dd",r),g=g.replace("HH",i),g=g.replace("hh",(Number(i)%12||12).toString().padStart(2,"0")),g=g.replace("mm",s),g=g.replace("ss",c),g=g.replace("H",i),g},p=(e,n)=>{const t=n.split(/[^a-zA-Z]/),a=e.split(/[^0-9]/);let r,i,s,c=0,l=0,d=0;for(let e=0;e<t.length;e++){const n=t[e],o=a[e];n.includes("yyyy")?r=parseInt(o,10):n.includes("MM")?i=parseInt(o,10)-1:n.includes("dd")?s=parseInt(o,10):n.includes("HH")?c=parseInt(o,10):n.includes("mm")?l=parseInt(o,10):n.includes("ss")&&(d=parseInt(o,10))}if(void 0===r||void 0===i||void 0===s)throw new Error("Invalid date format or input");return new Date(r,i,s,c,l,d)},u=(e,n,t)=>{0!==e.length&&e.forEach((e=>{t[e.sc_app__id]||(t[e.sc_app__id]=!0,e.width*=n,e.left*=n,u(e.leftOvercome,n,t))}))},g=(e,n)=>{const t=100,a=e.sort(((e,n)=>e.startTime-n.startTime)),r="month"===n?0:6e5;let i="startTime",s="endTime";"month"===n&&(i="temp_startDate",s="temp_endDate");for(let e=0;e<a.length;e++){"month"===n&&(a[e].temp_endDate=new Date(a[e].endTime).setHours(0,0,0,0),a[e].temp_startDate=new Date(a[e].startTime).setHours(0,0,0,0));let c=0,l=0;const d=[];for(let t=0;t<e;t++)if(a[t][s]>=a[e][i]){a[t][s]-a[e][i]>=r&&("team"!==n||a[t].userId===a[e].userId)&&d.push(a[t])}if(d.length){if(d.sort(((e,n)=>e.left-n.left)),d[0].left>0)c=d[0].left;else for(let e=0;e<d.length-1;e++)if(d[e+1].left-(d[e].width+d[e].left)>1){c=d[e].left+d[e].width-d[e].left,l=d[e].left+d[e].width;break}0===c&&t-d[d.length-1].left-d[d.length-1].width>1&&(c=t-d[d.length-1].left-d[d.length-1].width,l=d[d.length-1].left+d[d.length-1].width)}a[e].leftOvercome=d,0===c&&(c=0===d.length?t:t/(1+t/d[0].width),l=t-c,u(d,1-c/t,{})),a[e].width=c,a[e].left=l}return a},m=(e,n)=>{const t=[];for(let a=0;a<e.length;a++){const r=e[a],i=new Date(p(r.startDate,n)).setHours(0,0,0,0),s=new Date(p(r.endDate,n)).setHours(0,0,0,0),c=r.startTime?r.startTime.split(":"):["0","0","0","0"],l=r.startTime?r.endTime.split(":"):["0","0","0","0"],d=new Date(i).setHours(parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10),0),o=new Date(s).setHours(parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10),0),_=(o-d)/36e5,b=Object.assign(Object.assign({},r),{sc_app__id:r.sc_app__id,title:r.title,startDate:i,endDate:s,startTime:d,endTime:o,total_event_time:_,isDragable:void 0===r.draggable||Boolean(r.draggable),isResizable:void 0===r.resizable||Boolean(r.resizable)});t.push(b)}return t},h=(e,n,t)=>{const a=e.getTime(),r=new Date(n).setHours(0,0,0,0),i=new Date(t).setHours(23,59,59,999);return a>=r&&a<=i},v=e=>{if(!e)return[];for(let n=0;n<e.length;n++)e[n].sc_app__id=n+1;return e};function f(e,n){const t=e.getTime()-n.getTime();return Math.ceil(t/864e5)}function w(e,n){let[t,a]=n.split(":");const r=Number(t);return a=a.replace(/[^0-9]/g,""),n.includes("PM")&&r<12&&(t+=12),e.setHours(r),e.setMinutes(Number(a)),e}const y=(e,n)=>{if(12==n){const n=e>=12?"PM":"AM";return("0"+(e=(e%=12)||12)).slice(-2)+":00 "+n}return("0"+e).slice(-2)+":00"},A=e=>Object.assign(Object.assign({},e),{startDate:e.startTime?b(new Date(e.startTime),"dd/MM/yyyy"):"",endDate:e.endTime?b(new Date(e.endTime),"dd/MM/yyyy"):"",startTime:e.startTime?b(new Date(e.startTime),"H:mm:ss"):"",endTime:e.endTime?b(new Date(e.endTime),"H:mm:ss"):""});function x(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}function D({onChange:t,value:a}){const[c,l]=r(""),[d,o]=r(f(new Date)),[_,b]=r([]),[p,u]=r(!1),[g,m]=r(null),h=i(null),v=i(null);function f(e){let n=e.getHours();const t=e.getMinutes(),a=n>=12?"PM":"AM";n%=12,n=n||12;const r=String(t).padStart(2,"0");return`${String(n).padStart(2,"0")}:${r} ${a}`}function w(e){const n=(e||c).toUpperCase(),a=n.replace(/[^\d]/g,"");let r=parseInt(a.substring(0,2),10)||0;const i=parseInt(a.substring(2,4),10)||0;let s="AM";n.includes("P")?s="PM":n.includes("A")?s="AM":r>=12&&(s="PM"),r>12&&(r-=12),r>24&&(r=parseInt(a.charAt(0),10)||0),i>59&&(r=parseInt(a.charAt(0),10)||0);const d=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")} ${s}`;o(d),l(d),t((e=>{const n=e.toLowerCase().includes("pm"),t=e.split(/[:\s]/);let a=parseInt(t[0],10);const r=parseInt(t[1],10);return isNaN(a)||isNaN(r)||a>12||a<1||r>59||r<0?(console.error("Invalid time format"),"12:00"):(n&&12!==a&&(a+=12),n||12!==a||(a=0),`${String(a).padStart(2,"0")}:${String(r).padStart(2,"0")}`)})(d))}return s((()=>{a&&l((e=>{if(!e)return"";if((e=(e=e.trim()).toUpperCase()).includes("AM")||e.includes("PM"))return e;const[n,t]=e.split(":");let a=parseInt(n,10),r="AM";return a>=12&&(r="PM"),a>24&&(a%=10),0==a?a=12:a>12&&(a-=12),`${a.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")} ${r}`})(a))}),[a]),s((()=>{var e;function n(e){if("ArrowDown"===e.key)e.preventDefault(),m((e=>null===e||e===_.length-1?0:e+1));else if("ArrowUp"===e.key)e.preventDefault(),m((e=>null===e||0===e?_.length-1:e-1));else if("Enter"===e.key&&null!==g){e.preventDefault();const n=_[g];l(n),o(n),setTimeout((()=>{var e;null===(e=h.current)||void 0===e||e.blur(),u(!1)}),100)}else"Escape"===e.key||"Enter"===e.key?(setTimeout((()=>{var e;null===(e=h.current)||void 0===e||e.blur(),u(!1)}),100),e.preventDefault()):m(null)}return null===(e=h.current)||void 0===e||e.addEventListener("keydown",n),()=>{h.current&&h.current.removeEventListener("keydown",n)}}),[_,g]),s((()=>{p&&v.current&&null!==g&&(v.current.scrollTop=30*g)}),[p,g]),s((()=>{const e=[];for(let n=0;n<=23;n++)for(let t=0;t<=59;t+=30){const a=new Date(0,0,0,n,t);e.push(f(a))}b(e)}),[]),s((()=>{if(p&&v.current){const e=_.findIndex((e=>e===d));-1!==e&&(v.current.scrollTop=30*e)}}),[p,_,d]),e("div",Object.assign({className:"time-input-wrapper"},{children:[n("input",{type:"text",value:c,placeholder:d,className:"ib__sc-form-control",onChange:function(e){e.preventDefault(),l(e.target.value)},onFocus:()=>u(!0),onBlur:()=>{w(),setTimeout((()=>u(!1)),500)},ref:h}),p&&n("div",Object.assign({className:"dropdown-time",ref:v},{children:_.map(((e,t)=>n("div",Object.assign({className:t===g?"active":"",onClick:()=>{w(e),setTimeout((()=>u(!1)),500)}},{children:e}),t)))}))]}))}x(".time-input-wrapper {\n    position: relative;\n}\n\n.dropdown-time {\n    position: absolute;\n    width: 100%;\n    border: 1px solid #ccc;\n    max-height: 120px;\n    overflow-y: scroll;\n    z-index: 1000;\n    background-color: #fff;\n}\n\n.dropdown-time div {\n    padding: 5px;\n    cursor: pointer;\n    font-size: 15px;\n    height: 20px;\n\n}\n.dropdown-time  .active {\n    background-color: #4CAF50;\n    color: white;\n}\n\n.dropdown-time div:hover {\n    background-color: #ddd;\n}\n");const O=a=>{var{show:i,handleClose:s,handleAddEvent:c,onDeleteEvent:l}=a,d=a.eventObj,{title:o="",startDate:_="",endDate:p="",startTime:u="",endTime:g="",bg_color:m="#5c6bc0",description:h="",sc_app__id:v=""}=d,f=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t}(d,["title","startDate","endDate","startTime","endTime","bg_color","description","sc_app__id"]);const y=new Date,A=b(y,"yyyy-MM-dd"),[x,O]=r(o),[T,k]=r(_||A),[j,N]=r(p||A),[C,E]=r(u),[H,M]=r(g),[S,I]=r(m),[z,B]=r(h),F=()=>{if(!(T&&j&&C&&H))return alert("Please fill all the fields"),!1;let e=new Date(T),n=new Date(j);return isNaN(e.getTime())||isNaN(n.getTime())?(alert("Invalid date"),!1):(e=w(e,C),n=w(n,H),!(e.getTime()>n.getTime())||(alert("Start date cannot be greater than end date"),!1))};return n("div",Object.assign({className:"modal-wrapper ib__sc-modal",onKeyDown:e=>{e.target instanceof HTMLElement&&e.target.className.includes("ib__sc-modal")&&s()},style:{transform:i?"translateY(0vh)":"translateY(-100vh)",opacity:i?"1":"0"}},{children:e("div",Object.assign({className:"ib__sc-modal-content ib__sc_add_event_box"},{children:[e("div",Object.assign({className:"modal-header"},{children:[n("p",v?{children:"Edit Event"}:{children:"Add Event"}),n("span",Object.assign({className:"ib__sc__close-modal-btn",onClick:s},{children:"Ã—"}))]})),n("div",Object.assign({className:"ib__sc-modal-body"},{children:e("form",Object.assign({noValidate:!0},{children:[e("div",Object.assign({className:"ib__sc__form-group"},{children:[n("label",Object.assign({className:"ib__sc-label",htmlFor:"title"},{children:"Title"})),n("input",{type:"text",placeholder:"Title",value:x,className:"ib__sc-form-control",onChange:e=>O(e.target.value),required:!0})]})),e("div",Object.assign({className:"ib__sc__form-time-row"},{children:[e("div",Object.assign({className:"ib__sc__form-group"},{children:[n("label",Object.assign({className:"ib__sc-label",htmlFor:"startDate"},{children:"Start Date"})),n("input",{type:"date",placeholder:"yyyy-mm-dd",className:"ib__sc-form-control",value:T,onChange:e=>k(e.target.value),required:!0}),n("label",Object.assign({className:"ib__sc-label",htmlFor:"startTime"},{children:"Start Time"})),n(D,{value:C,onChange:e=>E(e)})]})),e("div",Object.assign({className:"ib__sc__form-group"},{children:[n("label",Object.assign({className:"ib__sc-label",htmlFor:"endDate"},{children:"End Date"})),n("input",{type:"date",placeholder:"yyyy-mm-dd",className:"ib__sc-form-control",value:j,onChange:e=>N(e.target.value),required:!0}),n("label",Object.assign({className:"ib__sc-label",htmlFor:"endTime"},{children:"End Time"})),n(D,{value:H,onChange:e=>M(e)})]}))]})),e("div",Object.assign({className:"ib__sc__form-group"},{children:[n("label",Object.assign({className:"ib__sc-label",htmlFor:"bg_color"},{children:"Description"})),n("input",{type:"color",value:S,className:"ib__sc-form-control",onChange:e=>I(e.target.value),required:!0})]})),e("div",Object.assign({className:"ib__sc__form-group"},{children:[n("label",Object.assign({className:"ib__sc-label",htmlFor:"bg_color"},{children:"Decription"})),n("textarea",{value:z,className:"ib__sc-form-control",onChange:e=>B(e.target.value),required:!0})]})),e("div",Object.assign({className:"ib__sc__modal_footer"},{children:[n("button",Object.assign({className:"ib__sc__btn",onClick:e=>{if(e.preventDefault(),!F())return;const n=w(new Date(T),C),t=w(new Date(j),H),a=Object.assign(Object.assign({},f),{title:x,sc_app__id:v,description:z,startDate:b(new Date(n),"dd/MM/yyyy"),endDate:b(new Date(t),"dd/MM/yyyy"),startTime:b(new Date(n),"H:mm:ss"),endTime:b(new Date(t),"H:mm:ss"),bg_color:S});c(a),s()}},{children:n(t,v?{children:"Update "}:{children:"Save"})})),v&&n("button",Object.assign({className:"ib__sc__btn",onClick:e=>{e.preventDefault()},onDoubleClick:e=>{e.preventDefault(),l&&l(v),s()}},{children:"Delete"}))]}))]}))}))]}))}))},T=c(),k=({eventObj:a,isShowTitle:r,isStart:i})=>e("div",Object.assign({className:`ib__sc__event-box-view ${i?"ib__sc__staring_event_box":""} `,style:{height:"100%"}},{children:[r&&n("div",Object.assign({className:"ib__sc__event ib__sc__event-week_title"},{children:a.title})),r&&e(t,{children:[n("div",Object.assign({className:"ib__sc__event-element"},{children:a.element&&a.element})),n("div",Object.assign({className:"ib__sc__event-description"},{children:a.description&&a.description}))]})]})),j=({boxHeight:a,eventObj:c,boxDay:d,isDraging:o,isResizing:_,isDragable:b})=>{const[p,u]=r({start:!1,end:!1}),g=i(!1),{dragStart:m,dragEnd:h,resizeStart:v,resizeEnd:f,calendarToAddOrUpdateEvent:w}=l(T),y=i(null),A=(e,n)=>{e.stopPropagation(),e.preventDefault(),v(c,d,n)},x=e=>{b&&_&&(e.preventDefault(),f())},D=e=>{e.preventDefault(),h()};s((()=>{if(o)return document.addEventListener("mouseup",D),()=>{document.removeEventListener("mouseup",D)}}),[o]),s((()=>{if(_)return document.addEventListener("mouseup",x),()=>{document.removeEventListener("mouseup",x)}}),[_]),s((()=>{c&&((e,n)=>{if(!e||!n)return;const t=new Date(e).setHours(0,0,0,0),a=new Date(n).setHours(23,59,59,999),r=new Date(d).setHours(0,0,0,0),i=new Date(d).setHours(23,59,59,999);p.start=t<r,p.end=a>i,u(Object.assign({},p))})(c.startTime,c.endTime)}),[c,c.startTime,c.endTime,a,d]);const O={cursor:"move",opacity:o||_?.9:1,zIndex:o||_?1e4:1},j={backgroundColor:c.bg_color};return O.width="100%",O.left="0%",O.top=c.left+"%",O.height=c.width+"%",n(t,{children:c&&n("div",Object.assign({id:c.sc_app__id+"",className:"ib__sc__event-wrapper ib__sc__event-wrapper-month "+(c.custom_class||" ")+(o?" dragging":"")+" "+(p.start?"overlap-start":"")+" "+(p.end?"overlap-end":""),ref:y,onMouseDown:e=>{e.preventDefault(),g.current=!0,_?h():m(c,d)},onMouseUp:e=>{e.preventDefault(),g.current=!1},onClick:e=>{_||(e.stopPropagation(),e.preventDefault(),h(),w(c))},style:O},{children:e("div",Object.assign({className:"ib__sc__event-box ib__sc__event-box-month",style:j},{children:[p&&!p.start&&c.isResizable&&n("div",Object.assign({style:_?{display:"flex"}:{},className:"dragging-handler-month left",onMouseDown:e=>{A(e,"left")}},{children:"||"})),n(k,{eventObj:c,isShowTitle:!p.start,isStart:!p.start}),p&&!p.end&&c.isResizable&&n("div",Object.assign({style:_?{display:"flex"}:{},className:"dragging-handler-month right",onMouseDown:e=>{A(e,"right")}},{children:"||"}))]}))}))})};function N({team:e,date:t,events:a,calendarToAddOrUpdateEvent:r,currentBoxHeight:c,dragBoxMouseEnterToCell:l,dragingEventId:d,resizingEventId:o,userId:_}){const b=i(null),p=e=>{e.preventDefault(),l(new Date(t),_)};s((()=>{var e;if(b.current&&(void 0!==d||void 0!==o))return null===(e=b.current)||void 0===e||e.addEventListener("mouseenter",p,!0),()=>{var e;null===(e=b.current)||void 0===e||e.removeEventListener("mouseenter",p,!0)}}),[d,o]);return n("td",Object.assign({ref:b,className:"ib__sc__table-td ib__sc__table-team-td-team",onClick:n=>{n.preventDefault(),n.stopPropagation(),r({isDragable:!1,isResizable:!1,startTime:t.setHours(0,0,0,0),endTime:t.setHours(1,0,0,0),userId:e.userId})}},{children:n("div",Object.assign({className:"ib__sc__team-cell__team",style:{minHeight:c+20}},{children:n("div",Object.assign({className:"ib__sc__table-td__team_cell"},{children:a.map(((e,a)=>n(j,{eventObj:e,boxHeight:50,boxDay:t.getTime(),isDragable:e.isDragable,isDraging:d===e.sc_app__id,isResizing:o===e.sc_app__id},a)))}))}))}))}function C({teams:a,eventsData:r,selectedWeekStartDate:i,updateEvent:s,calendarToAddOrUpdateEvent:c,dragBoxMouseEnterToCell:l,dragingEventId:d,resizingEventId:o,boxHeight:_,minimumEventHeight:b}){const p=a.map((t=>{const a=[],p=new Date(i),u=p.getDay();p.setDate(p.getDate()-u);let g=100;for(let e=0;e<7;e++){const i=new Date(p);i.setDate(p.getDate()+e);const u=r.filter((e=>!(e.userId!==t.userId||!e.startTime||!(new Date(e.startTime).toDateString()===i.toDateString()||e.endTime&&h(i,e.startTime,e.endTime)))&&(g=Math.min(g,e.width||100),!0)));let m=_;g*_/100<b&&(m=100*b/g),a.push(n(N,{team:t,date:i,dragingEventId:d,resizingEventId:o,userId:t.userId,events:u,updateEvent:s,calendarToAddOrUpdateEvent:c,currentBoxHeight:m,dragBoxMouseEnterToCell:l},e))}return e("tr",{children:[e("td",Object.assign({className:"ib__sc__table-td team-cell"},{children:[t.profilepic&&n("img",{src:t.profilepic,alt:t.name,className:"team-profile-pic"}),t.name&&n("span",{children:t.name}),t.profileComponent&&t.profileComponent]})),a]},t.userId)}));return n(t,{children:p})}function E({calendarType:e,calendarViewOptions:t,onCalendarTypeChange:r}){return n(a.Fragment,{children:n("div",Object.assign({className:"ib__sc__btn-group ib__sc__calendar_switch"},{children:null==t?void 0:t.map(((t,a)=>n("button",Object.assign({className:"ib__sc__btn ib_sc_btn_"+t.toLowerCase()+" "+(e===t?"active":""),onClick:()=>r(t)},{children:t.charAt(0).toUpperCase()+t.slice(1)}),a)))}))})}const H=36e5;const M=()=>n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAlwSFlzAAAAYAAAAGAA8GtCzwAAAAd0SU1FB+cGBxcLBsb8hYgAAALNSURBVHja3dm/SxthGMDx52ISe4kOWonQoWSoDiVDZ+WOEAeRVFDiEZpLloyFbh0c+j90EQpCC4GmDnGopPGSgovhupaAZmiPUAKWFkqDKGgsvetUaZsj2PvxPs/rM+a4l/t+eHNwvAAuJp+RJFU/OFAfHB+rjzY3FUUU3ayHMYLTGxVFFMOJbhc+TE1d/vhpb+/i1vJypXJ2hh121Qk4vfFGJh7/Kx4AIL6wEP5crfK0ExwDfHvS6VjPjo4GLnCG4BhAM/p9IZHNwv3TU54RHAMAAJS7ui6Ii4vWi5MTW4R79bqyNjaGHTlsHL8E/5z867k5c6leF4rj4wMX7+7vX7xPpyvbNjuFwHgCwDOCZwC8IngKwCOC5wC8IfgCwBOCbwC8IPgKwAOC7wDUEZgAUEZgBkAVgSkARQTmANQQUAAAANTb8/PWR03DRkADoIKACkABAR0AG4EEACYCGQAsBFIAGAjkAFgjkARgiUAWgBUCaQAWCK4ORlhMuavrgVw6bXsC1Zbl8MNSyc365HfA78lnJMla292FN4MnTUJsZublU8Nwsi75HXAZ2QyFrGTA9nnNr6bpdN0gdthVphBLpX62qlXhcSTy7zWrtLX1KtjpXFuAXFuWzdbOjl08rDcaoZFi0c36pN8BubYsC61aze5/D+uNRjCxslISzs+vJQCLeLIArOJJArCMJwfAOp4UAEY8GQCseBIAmPHoANjxqAAU4gEARjDi8xlJgpv2X3Ys4wEwDkeHfNayjmcOQC2eKQDFeGYAVOOZAFCO9x2AeryvADzE+wbAS7wvADzFew7AW7ynADzGewbAa7wnADzHuwZQrWTS+lKr2R5aTGrad211VTP6fezIYeP4c7gQi0ataLMpPJ+Y4DUewMXh6I+3s7Pwbnqa53hXAJGyYcBkr8dzvOspxFIpNXt4qEZ7PXV7Y2Ppzugo9jP97/wCAaynFXwXh7EAAAAASUVORK5CYII=",alt:"righticon"}),S=()=>n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAlwSFlzAAAAYAAAAGAA8GtCzwAAAAd0SU1FB+cGBxcLHDuefPIAAALqSURBVHja3ds9aBNhGMDx54y9GAzYVgxqh9pchiwqCNIgZOjHEtorgrnBmlKhk5M4uDs4qaO2m0OLVLzQQitplbSELh10snBDz0JKqJYEGkJpa9JrzqlF06bB+3if5/Udc9xz/H9cAse9AeBsxUJebyI8Ovrgfqk0mNe0oUB3t515AnbQv8a3xqanYSsWO/qwtVj0nmtvf/tye9vKzDPYUbbiAQC2Wlp+3ZYkq3O5AKgbDwDm881Nf3p11eps8l+BU+Nf7e4Kl/v63gmZjNX5pO8AJS6KF3+qat34rwMDduIBCN8BSlwUvXPJpHlXluvGywsLdq9DEoBVPEkAlvHkAFjHkwLAiCcDgBVPAgAzHh0AOx4VgEI8GgCVeBQASvHMAajFMwWgGM8MgGo8EwDK8a4DUI93FYCHeNcAeIl3BYCneMcBeIt3FIDHeMcAeI13BIDneNsAvMcDAJy1c7J4ZXy8XrznpixP5BcXsQMbLct3QOJJKGTmdZ3neAAbr8YOngkn4gmZatWM7u9jh7kOMHlB12FkaurYgY9+vxlPpRL3olHsOFcBAAAqY4kEDKXTJyFUX8/PD77p6sIObLQ8dk7WNMMIl5NJz8POTvgWDP55TPjc1ASPFeV6cHl5JZXNYoe6AvA/INgG4B3BEQCeERwD4BXBUQAeERwH4A3BFQCeEFwD4AXBVQAeENi9GlN8PnFkZgYmentrjzmx4ZE8QCMEKOzswKf+ftYI7F+PE0PA2SBBCAFviwwRBNxNUgQQ8LfJISOgA2AjkADARCADgIVACgADgRwAawSSACwRyAKwQnD9cdjOOnqUzkUi0Pz3ozScF0WoxOM3viwtrZRyOavXIH0HHC5F8fnEH7OzcK2np/aYObaxUbwlSXPfy2Urs0n/b/BwqereXuWqLEP2+F4D4VFbW/PTjg6rs7kAOBXhRaFgpNfXrc4l/RtQuzTNMMIRVfVcCgRgUpLgjq4LH4aH3yfX1qzO/A3MCuhSu8sW2gAAAABJRU5ErkJggg==",alt:"lefticon"}),I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function z({currentDay:t=new Date,eventsData:c,teams:l,selectedDate:d,calendarType:o,onDateChange:_,updateEvent:b,onCalendarTypeChange:p,calendarToAddOrUpdateEvent:u,onNextClick:m,onPrevClick:h,minimumEventHeight:v=30,calendarHeader:w,calendarViewOptions:y,showAddNewEventButton:A=!0}){var x;const[D,O]=r(d),[k,j]=r(g(c,"team")),N=i(),z=i(),[B,F]=r(!1),U=i("");s((()=>{d&&O(d)}),[d]),s((()=>{j(g(c,"team"))}),[c,o]),a.useEffect((()=>{}),[t]),s((()=>{if(B)return document.body.style.userSelect="none",()=>{document.body.style.userSelect="auto"}}),[B]);const P=e=>{z.current&&(e&&e.preventDefault(),U.current="",b(Object.assign({},z.current)),z.current=null,F(!1))};s((()=>{if(B)return document.addEventListener("mouseup",(()=>P())),()=>{document.removeEventListener("mouseup",(()=>P()))}}),[B]);const L=e=>{const n=new Date(D);n.setDate(n.getDate()+7*e),O(n),e>0?m&&m(n,o):h&&h(n,o)};return n(T.Provider,Object.assign({value:{dragStart:(e,n)=>{!1!==e.isDragable&&(N.current=n,z.current=Object.assign(Object.assign({},e),{left:0,width:"100"}),F(!0))},resizeStart:(e,n,t)=>{N.current=n,z.current=Object.assign(Object.assign({},e),{left:0,width:"100"}),U.current=t,F(!0)},updateEvent:b,calendarToAddOrUpdateEvent:u,dragEnd:P,resizeEnd:P}},{children:e("div",Object.assign({className:"ib__sc__table ib__sc__table-team-wrap ib_sc_type_"+o},{children:[n("div",Object.assign({className:"ib__sc__header_wrapper"},{children:e("div",Object.assign({className:"ib__sc__header"},{children:[n("div",Object.assign({className:"ib__sc__header__date-switch"},{children:n("div",Object.assign({className:"ib__sc__month-date"},{children:e("div",Object.assign({className:"ib__sc__month-date-btn-group"},{children:[n("button",Object.assign({className:"ib__sc__month-date__bt-prev ib__sc__np__btn",onClick:()=>L(-1)},{children:n(S,{})})),n("span",Object.assign({className:"ib__sc__month-date__bt-text"},{children:n("input",{type:"date",className:"ib__sc-form-control",onChange:e=>{const n=new Date(e.target.value);n&&!isNaN(n.getTime())&&(O(n),_&&_(n,o))},value:D.toISOString().substr(0,10)})})),n("button",Object.assign({className:"ib__sc__month-date__bt-next ib__sc__np__btn",onClick:()=>L(1)},{children:n(M,{})}))]}))}))})),n("div",Object.assign({className:"ib__sc__header__center"},{children:w})),e("div",Object.assign({className:"ib__sc__header__right"},{children:[A&&n("div",Object.assign({className:"ib__sc__header__right__btn-group"},{children:n("button",Object.assign({className:"ib__sc__btn",onClick:()=>{u({isDragable:!1,isResizable:!1,startTime:(new Date).setHours(0,0,0,0),endTime:(new Date).setHours(1,0,0,0)})}},{children:"Add Event"}))})),n(E,{calendarViewOptions:y,calendarType:o,onCalendarTypeChange:p})]}))]}))})),n("div",Object.assign({className:"calendar"},{children:e("table",Object.assign({className:"ib__sc__table-team",border:0,cellSpacing:"0",cellPadding:"0"},{children:[n("thead",{children:(()=>{const t=[],a=new Date(D),r=a.getDay();a.setDate(a.getDate()-r);for(let r=0;r<7;r++){const i=new Date(a);i.setDate(a.getDate()+r),t.push(e("th",Object.assign({className:"ib__sc__table-th"},{children:[I[i.getDay()],n("br",{}),i.toLocaleDateString()]}),r))}return e("tr",{children:[n("th",Object.assign({className:"ib__sc__table-th"},{children:"Team"})),t]})})()}),n("tbody",{children:n(C,{teams:l,eventsData:k,selectedWeekStartDate:D,updateEvent:b,calendarToAddOrUpdateEvent:u,monthViewMinCellHeight:30,minimumEventHeight:v,boxHeight:30,dragBoxMouseEnterToCell:(e,n)=>{if(!z.current)return;if(!N.current)return;const t=z.current,a=f(e,new Date(N.current));0!==a&&("left"===U.current?t.startTime+=24*a*H:"right"===U.current?t.endTime+=24*a*H:(t.endTime+=24*a*H,t.startTime+=24*a*H),t.userId=n,z.current=t,N.current=e.getTime(),((e,n)=>{const t=n.findIndex((n=>n.sc_app__id===e.sc_app__id));t>-1&&(n[t]=e,j([...n]))})(t,k))},dragingEventId:z.current?null===(x=z.current)||void 0===x?void 0:x.sc_app__id:void 0,resizingEventId:z.current&&U.current?z.current.sc_app__id:void 0})})]}))}))]}))}))}const B=({boxHeight:a,boxTime:c=1,eventObj:d,boxDay:o,dragingEventId:_})=>{const[b,p]=r(!1),[u,g]=r(!1),[m,h]=r(0),[v,f]=r(0),[w,y]=r({top:!1,bottom:!1}),A=i({start:0,end:0}),{updateEvent:x,dragStart:D,dragEnd:O,calendarToAddOrUpdateEvent:j}=l(T),N=i(null),C=i(0),E=i(""),M=i(!1);s((()=>{setTimeout((()=>{_===d.sc_app__id?p(!0):p(!1)}),100)}),[_]);const S=(e,n)=>{e.stopPropagation(),e.preventDefault(),A.current.start=d.startTime,A.current.end=d.endTime,C.current=0,E.current=n,g(!0)},I=e=>{e.preventDefault(),b&&(setTimeout((()=>{p(!1)}),100),O())},z=(e,n)=>{const t=new Date(o).setHours(0,0,0,0),r=new Date(o).setHours(23,59,59,999);A.current.start=e,A.current.end=n,e<t?(e=t,y(Object.assign(Object.assign({},w),{top:!0}))):y(Object.assign(Object.assign({},w),{top:!1})),n>r?(n=r,y(Object.assign(Object.assign({},w),{bottom:!0}))):y(Object.assign(Object.assign({},w),{bottom:!1}));f(a/c*((n-e)/H));h((e-t)/H*(a/c))},B=e=>{if(!u)return;if(0==C.current)return void(C.current=e.clientY);const n=e.clientY-C.current;(n>10||n<-10)&&(((e,n)=>{"top"===n&&(d.startTime=d.startTime+e/a*c*H,z(d.startTime,d.endTime)),"bottom"===n&&(d.endTime=d.endTime+e/a*c*H,z(d.startTime,d.endTime))})(n,E.current),C.current=e.clientY)},F=e=>{u&&(e.preventDefault(),e.stopPropagation(),setTimeout((()=>{g(!1)}),100),C.current=0,x(Object.assign(Object.assign({},d),{startTime:A.current.start,endTime:A.current.end})))};s((()=>{if(u)return document.addEventListener("mousemove",B),document.addEventListener("mouseup",F),()=>{document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",F)}}),[u]),s((()=>{if(b)return document.addEventListener("mouseup",I),()=>{document.removeEventListener("mouseup",I)}}),[b]),s((()=>{d&&z(d.startTime,d.endTime)}),[d,a,c,o]);const U={width:(b?100:d.width)+"%",left:(b?0:d.left)+"%",top:m+"px",cursor:"move",opacity:b?.8:1,boxShadow:b?"0 0 10px 0 rgba(0,0,0,0.5)":"none",zIndex:b||u?1e4:1,height:v+"px"};return n(t,{children:d&&n("div",Object.assign({id:d.sc_app__id,className:"ib__sc__event-wrapper ib__sc__event-wrapper-week  "+(d.custom_class||"")+(b?" dragging":""),ref:N,onMouseDown:e=>{e.preventDefault(),M.current=!0},onMouseUp:e=>{e.preventDefault(),M.current=!1},onMouseMove:()=>{M.current&&!b&&!1!==d.isDragable&&(p(!0),D(d,o))},onClick:e=>{u||b||(e.stopPropagation(),e.preventDefault(),O(),j(d))},style:U},{children:e("div",Object.assign({className:"ib__sc__event-box ib__sc__event-box-week",style:{height:v+"px",backgroundColor:d.bg_color}},{children:[w&&!w.top&&d.isResizable&&n("div",Object.assign({style:u?{display:"block"}:{},className:"dragging-handler-week top",onMouseDown:e=>{S(e,"top")}},{children:"="})),n(k,{eventObj:d,isShowTitle:!0}),w&&!w.bottom&&d.isResizable&&n("div",Object.assign({style:u?{display:"block"}:{},className:"dragging-handler-week bottom",onMouseDown:e=>{S(e,"bottom")}},{children:"="}))]}))}))})},F=({events:a,boxHeight:r,boxDay:c,dragBoxMouseEnterToCell:l,calendarToAddOrUpdateEvent:d,dragingEventId:o})=>{const _=i(null),b=e=>{e.preventDefault(),l(c)};return s((()=>{if(_.current&&o)return _.current.addEventListener("mouseenter",b,!0),()=>{var e;null===(e=_.current)||void 0===e||e.removeEventListener("mouseenter",b,!0)}}),[o]),n(t,{children:n("div",Object.assign({ref:_,className:"ib__sc__cell ib__sc__cell-week"},{children:e("div",Object.assign({className:"ib__sc__cell-wrapper ib__sc__cell-wrapper-week"},{children:[!!a&&!!a.length&&a.map((e=>n(B,{eventObj:e,boxDay:c,boxHeight:r,dragingEventId:o},e.sc_app__id))),(p=c,u=new Date,p.getFullYear()===u.getFullYear()&&p.getMonth()===u.getMonth()&&p.getDate()===u.getDate()&&n(U,{boxHeight:r})),[...Array(24).keys()].map(((e,t)=>n("div",{onClick:n=>((e,n)=>{e.preventDefault(),e.stopPropagation(),d({isResizable:!1,isDragable:!1,startTime:new Date(c).setHours(n,0,0,0),endTime:new Date(c).setHours(n+1,0,0,0)})})(n,e),style:{height:r+"px"},draggable:!0,className:"ib__sc__table-hr-box-week"},t)))]}))}))});var p,u},U=({boxHeight:e})=>{const[t,a]=r(0),i=()=>{const n=new Date,t=n.getHours(),r=n.getMinutes();a((t+r/60)*e)};return s((()=>{i();const e=setInterval((()=>{i()}),1e4);return()=>clearInterval(e)}),[e]),n("div",{style:{top:t+"px"},className:"ib__sc__daybar-week"})};let P=(new Date).setHours(0,0,0,0);const L=({eventsData:t,updateEvent:a,selectedDate:c,calendarHeader:l,calendarType:d,weekHourCellHeight:o=25,startingWeekday:_,weekViewStartHour:p,weekViewVisibleHours:u=12,weekViewDayTitleFormat:m="ddd",weekViewTimeFormat:v=24,noOfDayColumn:w,calendarHeight:A,showAddNewEventButton:x,weekViewNextButtonDayIncrement:D,onNextClick:O,onPrevClick:k,onDateChange:j,calendarToAddOrUpdateEvent:N,onIncreaseTimeSpan:C,onCalendarTypeChange:I,calendarViewOptions:z})=>{const[B,U]=r(t),L=i(null),R=i(0),Y=i(null),G=i(null),J=o,Q=1*J*24,X=i(null),W=i(null),[q,V]=r(0),[K,Z]=r(!1),$=()=>{let e=new Date;return c&&"object"==typeof c&&(e=c),"week"===d?function(e,n){e=void 0!==e?e:1;const t=n||new Date;if(t.getDay()===e)return t;const a=(t.getDay()+7-e)%7;return new Date(t.getTime()-864e5*a)}(_,e):e},ee=(e,n)=>{const t=n.findIndex((n=>n.sc_app__id===e.sc_app__id));t>-1&&(n[t]=e,U([...n]))};s((()=>{U(g(t,"week"))}),[t]),s((()=>{te($())}),[d]);const[ne,te]=r($);s((()=>{ne&&0!==Object.keys(ne).length&&(te(ne),j&&j(ne,d))}),[ne]),s((()=>{L.current&&(L.current.scrollTop=p*J/1)}),[o]);const ae=e=>{if(!G.current)return;const n=f(e,G.current);0!=n&&Y.current&&(Y.current.startTime=Y.current.startTime?Y.current.startTime:0,Y.current.startTime+=24*n*H,Y.current.endTime=Y.current.endTime?Y.current.endTime:0,Y.current.endTime+=24*n*H,G.current=e,ee(Object.assign({},Y.current),B))},re=e=>{if(e.preventDefault(),!Y.current)return;if(0===R.current)return void(R.current=e.clientY);const n=e.clientY-R.current;Y.current.startTime=Y.current.startTime?Y.current.startTime:0,Y.current.endTime=Y.current.endTime?Y.current.endTime:0,(n>10||n<-10)&&(Y.current.startTime+=n/J*1*36e5,Y.current.endTime+=n/J*1*36e5,ee(Object.assign({},Y.current),B),R.current=e.clientY)},ie=e=>{e&&e.preventDefault(),Y.current&&(a(Object.assign({},Y.current)),R.current=0,Y.current=null),Z(!1),document.removeEventListener("mousemove",re)};s((()=>{if(Y.current&&K)return document.addEventListener("mousemove",re),document.addEventListener("mouseup",ie),document.body.style.userSelect="none",()=>{document.body.style.userSelect="auto",document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",ie)}}),[K]),s((()=>{var e;P=(new Date).setHours(0,0,0,0),W.current&&V(null===(e=null==W?void 0:W.current)||void 0===e?void 0:e.offsetHeight)}),[]);const se=e=>{const n=function(e,n){const t=e.getTime();return new Date(t+24*n*60*60*1e3)}(ne,(w>D?D:w)*e);te(n),e>0?"function"==typeof O&&O(n,d):"function"==typeof k&&k(n,d)};return A||(A=J/1*u),n("div",{children:e("div",Object.assign({className:"ib__sc__table ib__sc__table-week ib_sc_type_"+d},{children:[n("div",Object.assign({className:"ib__sc__header_wrapper"},{children:e("div",Object.assign({className:"ib__sc__header"},{children:[n("div",Object.assign({className:"ib__sc__header__date-switch"},{children:n("div",Object.assign({className:"ib__sc__week-date"},{children:e("div",Object.assign({className:"ib__sc__week-date-btn-group"},{children:[n("button",Object.assign({className:"ib__sc__week-date__bt-prev ib__sc__np__btn",onClick:()=>se(-1)},{children:n(S,{})})),n("div",Object.assign({className:"ib__sc__week-date__bt-text"},{children:n("input",{type:"date",className:"ib__sc-form-control",onChange:e=>{const n=new Date(e.target.value);n&&!isNaN(n.getTime())&&te(new Date(e.target.value))},value:b(ne,"yyyy-MM-dd")})})),n("button",Object.assign({className:"ib__sc__week-date__bt-next ib__sc__np__btn",onClick:()=>se(1)},{children:n(M,{})}))]}))}))})),n("div",Object.assign({className:"ib__sc__header__center"},{children:l})),e("div",Object.assign({className:"ib__sc__header__right"},{children:[x&&n("div",Object.assign({className:"ib__sc__header__right__btn-group"},{children:n("button",Object.assign({className:"ib__sc__btn",onClick:()=>{N&&N({isDragable:!1,isResizable:!1,startTime:(new Date).setHours(0,0,0,0),endTime:(new Date).setHours(1,0,0,0)})}},{children:"Add Event"}))})),n(E,{calendarType:d,calendarViewOptions:z,onCalendarTypeChange:e=>{I&&I(e)}})]}))]}))})),n("div",Object.assign({style:{position:"relative",display:"flex"}},{children:n(T.Provider,Object.assign({value:{dragStart:(e,n)=>{G.current=n,Y.current=Object.assign(Object.assign({},e),{left:"0",width:100}),Z(!0)},updateEvent:a,dragEnd:ie,calendarToAddOrUpdateEvent:N}},{children:n("div",Object.assign({className:"ib__sc__table-out ib__sc__table-out-week",style:{maxHeight:A,overflowY:Q>A?"scroll":"initial"},ref:L},{children:e("div",Object.assign({className:"ib__sc__tb-wrapper ib__sc__tb-wrapper-week"},{children:[e("div",Object.assign({className:"ib__sc__tb_week_time",style:{minHeight:Q+"px"}},{children:[n("div",Object.assign({className:"ib__sc__table-th ib__sc__table-th-week ",ref:X,style:{height:q+"px",maxHeight:q+"px"}},{children:e("div",Object.assign({className:"ib__sc__btn-group ib__sc__increment-timespan ib__sc__flex_center"},{children:[n("button",Object.assign({className:"ib__sc__btn",onClick:()=>C(-1)},{children:"-"})),n("button",Object.assign({className:"ib__sc__btn",onClick:()=>{C(1)}},{children:"+"}))]}))})),n("div",Object.assign({className:"ib__sc__cell ib__sc__cell-week"},{children:[...Array(24).keys()].map(((e,t)=>n("div",Object.assign({style:{height:J+"px"},className:" ib__sc__week-time",draggable:"true"},{children:0!==t&&n("span",Object.assign({className:"ib__sc__time_title"},{children:y(e,v)}))}),t)))}))]})),[...Array(w).keys()].map((t=>{const r=new Date(ne),i=new Date(r.setDate(r.getDate()+t)).setHours(0,0,0,0);return e("div",Object.assign({className:"ib__sc__table-td ib__sc__table-td-week "+(P==i?"ib__sc__today":""),style:{minHeight:Q+"px"}},{children:[n("div",Object.assign({className:"ib__sc__table-th ib__sc__truncate ",ref:W},{children:"function"==typeof m?m(new Date(i)):b(new Date(i),m)}),t),n(F,{calendarTableRef:L,boxHeight:J,updateEvent:a,dragingEventId:Y.current?Y.current.sc_app__id:"",boxDay:new Date(i),dragBoxMouseEnterToCell:ae,calendarToAddOrUpdateEvent:N,events:B?B.filter((e=>{if(e.startTime&&e.endTime)return h(new Date(i),e.startTime,e.endTime)})):[]})]}),t)}))]}))}))}))}))]}))})};function R({currentBoxHeight:t,eventsInDay:a,boxHeight:r,boxDay:c,day:l,dragingEventId:d,resizingEventId:o,calendarToAddOrUpdateEvent:_,dragBoxMouseEnterToCell:b,isCurrentDay:p}){const u=i(null),g=e=>{e.preventDefault(),b(new Date(c))};return s((()=>{var e;if(u.current&&(void 0!==d||void 0!==o))return null===(e=u.current)||void 0===e||e.addEventListener("mouseenter",g,!0),()=>{var e;null===(e=u.current)||void 0===e||e.removeEventListener("mouseenter",g,!0)}}),[d,o]),n("td",Object.assign({ref:u,className:" ib__sc__table-td ib__sc__table-td-month "+(p?"ib__sc__today":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),_({isDragable:!0,isResizable:!0,startTime:new Date(c).setHours(0,0,0,0),endTime:new Date(c+24*H).setHours(0,0,0,0)})}},{children:e("div",Object.assign({className:"ib__sc_month_cell",style:{minHeight:`${t+20}px`}},{children:[n("div",Object.assign({className:"ib__sc_month_cell_wrapper"},{children:n("span",Object.assign({className:"ib__sc_month_day"},{children:l}))})),n("div",Object.assign({className:"ib__sc__table-td__day_cell",style:{minHeight:`${t}px`}},{children:a.map(((e,t)=>n(j,{eventObj:e,boxHeight:r,boxDay:c,isDragable:e.isDragable,isDraging:d===e.sc_app__id,isResizing:o===e.sc_app__id},t)))}))]}))}))}function Y({currentDay:t=new Date,eventsData:c,updateEvent:l,calendarType:o,startingWeekday:_,showAddNewEventButton:b=!0,calendarHeight:p,minimumEventHeight:u=30,calendarHeader:m,calendarToAddOrUpdateEvent:v,monthViewMinCellHeight:w=60,onNextClick:y,onPrevClick:A,onDateChange:x,calendarViewOptions:D,onCalendarTypeChange:O}){const[k,j]=r(t),N=k.getMonth(),C=k.getFullYear(),I=`${C}-${(N+1).toString().padStart(2,"0")}`,z=new Date(C,N,1).getDay(),B=new Date(C,N+1,0).getDate(),[F,U]=r(g(c,"month")),P=i(),L=i(),[Y,G]=r(!1),J=i("");w||(w=p?p/5:50),a.useEffect((()=>{t&&j(t)}),[t]),s((()=>{U(g(c,"month"))}),[c]),s((()=>{if(Y)return document.body.style.userSelect="none",()=>{document.body.style.userSelect="auto"}}),[Y]);const Q=e=>{e&&e.preventDefault(),J.current="",L.current&&(l(Object.assign({},L.current)),L.current=null),G(!1)},X=e=>{if(!L.current)return;if(!P.current)return;const n=L.current,t=f(e,new Date(P.current));0!==t&&("left"===J.current?n.startTime+=24*t*H:"right"===J.current?n.endTime+=24*t*H:(n.endTime+=24*t*H,n.startTime+=24*t*H),L.current=n,P.current=e.getTime(),((e,n)=>{const t=n.findIndex((n=>n.sc_app__id===e.sc_app__id));t>-1&&(n[t]=e,U([...n]))})(n,F))},W=e=>{const n=new Date(k);n.setMonth(n.getMonth()+e),j(n),e>0?"function"==typeof y&&y(n,o):"function"==typeof A&&A(n,o)};return n("div",{children:n(T.Provider,Object.assign({value:{dragStart:(e,n)=>{!1!==e.isDragable&&(P.current=n,L.current=Object.assign(Object.assign({},e),{left:0,width:"100"}),G(!0))},resizeStart:(e,n,t)=>{P.current=n,L.current=Object.assign(Object.assign({},e),{left:0,width:"100"}),J.current=t,G(!0)},updateEvent:l,calendarToAddOrUpdateEvent:v,dragEnd:Q,resizeEnd:Q}},{children:e("div",Object.assign({className:"ib__sc__table ib__sc__table-month-wrap ib_sc_type_"+o},{children:[n("div",Object.assign({className:"ib__sc__header_wrapper"},{children:e("div",Object.assign({className:"ib__sc__header"},{children:[n("div",Object.assign({className:"ib__sc__header__date-switch"},{children:n("div",Object.assign({className:"ib__sc__month-date"},{children:e("div",Object.assign({className:"ib__sc__month-date-btn-group"},{children:[n("button",Object.assign({className:"ib__sc__month-date__bt-prev ib__sc__np__btn",onClick:()=>W(-1)},{children:n(S,{})})),n("span",Object.assign({className:"ib__sc__month-date__bt-text"},{children:n("input",{type:"month",className:"ib__sc-form-control",placeholder:"yyyy-mm",onChange:e=>{const n=new Date(e.target.value);n&&!isNaN(n.getTime())&&(j(n),"function"==typeof x&&x(n,o))},value:I})})),n("button",Object.assign({className:"ib__sc__month-date__bt-next ib__sc__np__btn",onClick:()=>W(1)},{children:n(M,{})}))]}))}))})),n("div",Object.assign({className:"ib__sc__header__center"},{children:m})),e("div",Object.assign({className:"ib__sc__header__right"},{children:[b&&n("div",Object.assign({className:"ib__sc__header__right__btn-group"},{children:n("button",Object.assign({className:"ib__sc__btn",onClick:()=>{v({isDragable:!1,isResizable:!1,startTime:(new Date).setHours(0,0,0,0),endTime:(new Date).setHours(1,0,0,0)})}},{children:"Add Event"}))})),n(E,{calendarType:o,calendarViewOptions:D,onCalendarTypeChange:O})]}))]}))})),n("div",{style:{position:"relative",display:"flex"}}),n("div",Object.assign({className:"calendar"},{children:e("table",Object.assign({className:"ib__sc__table-month",border:0,cellSpacing:"0",cellPadding:"0"},{children:[n("thead",{children:n("tr",{children:d.map(((e,t)=>n("th",Object.assign({className:"ib__sc__table-th"},{children:d[(t+_)%7]}),e)))})}),n("tbody",{children:(()=>{var e;const t=(new Date).setHours(0,0,0,0),a=[];let r=[];for(let e=0;e<Math.abs(z+7-_)%7;e++)r.push(n("td",Object.assign({className:"ib__sc__table-td ib__sc__table-td-month "},{children:n("div",Object.assign({className:"ib__sc__table-td__day_cell"},{children:" "}))}),`empty-${e}`));for(let i=1;i<=B;i++){const s=new Date(C,N,i);let c=100;const l=F.filter((e=>!!(e.startTime&&e.endTime&&e.width&&h(s,e.startTime,e.endTime))&&(c=Math.min(c,e.width),!0)));let d=w;c*w/100<u&&(d=100*u/c),r.push(n(R,{currentBoxHeight:d,eventsInDay:l,dragBoxMouseEnterToCell:X,calendarToAddOrUpdateEvent:v,isCurrentDay:t===s.getTime(),dragingEventId:L.current?null===(e=L.current)||void 0===e?void 0:e.sc_app__id:void 0,resizingEventId:L.current&&J.current?L.current.sc_app__id:void 0,boxHeight:w,boxDay:new Date(s).getTime(),day:i},i)),7===r.length&&(a.push(n("tr",Object.assign({className:"ib__sc__table-td ib__sc__table-td-month"},{children:r}),i)),r=[])}if(r.length>0){for(let e=r.length;e<7;e++)r.push(n("td",{},`empty-${e}`));a.push(n("tr",{children:r},B))}return a})()})]}))}))]}))}))})}function G({selectedDate:t=new Date,calendarType:i="week",monthViewDayHeight:s=120,minimumEventHeight:c=30,calendarHeight:l=600,weekHourCellHeight:d=50,weekViewNextButtonDayIncrement:o=7,startingWeekday:_=1,weekViewStartHour:p=7,weekViewVisibleHours:u=12,weekViewDayTitleFormat:g="ddd, MMM dd",weekViewTimeFormat:h=12,monthViewMinCellHeight:f=50,disableEventModal:w=!1,showAddNewEventButton:y,calendarHeader:x,disableAddEventModal:D=!1,onUpdateEvent:T,onAddEvent:k,onDeleteEvent:j,onEventClick:N,onColumnClick:C,onNextClick:E,onPrevClick:H,onCalendarTypeChange:M,onDateChange:S,onIncreaseTimeSpan:I,events:B,teams:F=[],calendarViewOptions:U=["week","day","month","team"]}){const[P,R]=r(!1),[G,J]=r({title:"",startDate:"",endDate:"",startTime:"",endTime:""}),[Q,X]=r(i),[W,q]=r(v(B)),[V,K]=r(d);a.useEffect((()=>{q(v(B))}),[B]);const Z=e=>{const n=W.findIndex((n=>n.sc_app__id===e.sc_app__id)),t=A(e);t.startDate===W[n].startDate&&t.endDate===W[n].endDate&&t.startTime===W[n].startTime&&t.endTime===W[n].endTime||(W[n]=t,"function"==typeof T&&T(W[n]),q([...W]))},$=e=>{e.sc_app__id?"function"==typeof N&&N(A(e)):"function"==typeof C&&C(A(e)),w||D||(J(Object.assign(Object.assign({},A(e)),{startDate:e.startTime?b(new Date(e.startTime),"yyyy-MM-dd"):"",endDate:e.endTime?b(new Date(e.endTime),"yyyy-MM-dd"):"",startTime:e.startTime?b(new Date(e.startTime),"H:mm:ss"):"",endTime:e.endTime?b(new Date(e.endTime),"H:mm:ss"):""})),R(!0))},ee=e=>{X(e),M&&M(e)};return n("div",Object.assign({className:"App react-calendar-scedule"},{children:e("div",Object.assign({className:"ib__sc_rcs-container"},{children:[("week"===Q||"day"===Q)&&n(L,{eventsData:m(v(W),"dd/MM/yyyy"),selectedDate:t,calendarType:Q,weekHourCellHeight:V,calendarHeader:x,onIncreaseTimeSpan:e=>{V+e<20||(K(V+10*e),I&&I())},startingWeekday:_,weekViewStartHour:p,weekViewVisibleHours:u,weekViewDayTitleFormat:g,weekViewTimeFormat:h,minimumEventHeight:c,onNextClick:E,calendarHeight:l,onPrevClick:H,calendarViewOptions:U,weekViewNextButtonDayIncrement:o>7?7:o,showAddNewEventButton:y,noOfDayColumn:"week"===Q?7:1,onDateChange:S,onCalendarTypeChange:ee,updateEvent:Z,calendarToAddOrUpdateEvent:e=>{$(e)}}),"team"===Q&&(!F||!F.length)&&n("div",Object.assign({className:"ib__sc__no team"},{children:"No Team Found"})),"team"===Q&&(null==F?void 0:F.length)&&n(z,{eventsData:m(v(W),"dd/MM/yyyy"),teams:F,selectedDate:t,calendarType:Q,calendarViewOptions:U,calendarHeader:x,onDateChange:S,updateEvent:Z,onCalendarTypeChange:ee,calendarToAddOrUpdateEvent:e=>{$(e)},onNextClick:E,onPrevClick:H}),"month"===Q&&n(Y,{eventsData:m(v(W),"dd/MM/yyyy"),monthViewDayHeight:s,selectedDate:t,dayStartFrom:0,calendarType:Q,startingWeekday:_,showAddNewEventButton:y,currentDay:t,calendarHeight:l,calendarHeader:x,monthViewMinCellHeight:f,minimumEventHeight:c,calendarViewOptions:U,onDateChange:S,updateEvent:Z,onCalendarTypeChange:ee,calendarToAddOrUpdateEvent:e=>{$(e)}}),P&&n(O,{show:P,handleClose:()=>{R(!1)},onDeleteEvent:e=>{const n=W.findIndex((n=>n.sc_app__id===e));j&&j(Object.assign({},W[n])),W.splice(n,1),q([...W]),R(!1)},handleAddEvent:e=>{if(e.sc_app__id){for(let n=0;n<W.length;n++)if(W[n].sc_app__id===e.sc_app__id){W[n]=Object.assign({},e);break}"function"==typeof T&&T(e)}else e.sc_app__id=(new Date).getTime(),"function"==typeof k&&k(e),W.push(e);q([...W]),R(!1)},eventObj:G})]}))}))}x("body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.ib__sc__form-group {\n  margin-bottom: 1em;\n}\n\n.ib__sc-form-control {\n  display: block;\n  padding: 0.375rem 0.75rem;\n  font-weight: 100;\n  width: 100%;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  line-height: 1.5;\n  color: #5b5b5b;\n  background-color: #fff;\n  background-clip: padding-box;\n  appearance: none;\n  box-sizing: border-box;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n.ib__sc__btn {\n  color: #5b5b5b;\n  background-color: #e0e0e0;\n  border-color: #9e9e9e;\n  display: inline-block;\n  font-weight: bold;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 0.8em;\n  line-height: 1.2em;\n  border-radius: 3px;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n.ib__sc__btn.active {\n  background-color: #b6b6b6;\n  border-color: #adadad;\n}\n.ib__sc__btn:hover {\n  background-color: #b6b6b6;\n  border-color: #adadad;\n}\n.ib__sc__btn-group {\n  flex-wrap: wrap;\n  align-items: stretch;\n  width: 100%;\n  display: table-cell;\n  border-radius: 0.25rem;\n  overflow: hidden;\n}\n.ib__sc__btn-group .ib__sc__btn {\n  border-radius: 0;\n}\n.ib__sc__btn-group .ib__sc__btn {\n  border-left: 1px solid #ccc;\n}\n.ib__sc__btn-group .ib__sc__btn:first-child {\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n  /* border-left: none; */\n}\n\n.ib__sc__btn-group .ib__sc__btn:last-child {\n  border-top-right-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n}\n\n.ib__sc__truncate {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ib__sc__flex_center {\n  display: flex;\n  justify-content: center;\n}\n\n/* Ib table */\n.ib__sc__table {\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n}\n\n.ib__sc__header {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px;\n  box-sizing: border-box;\n}\n.ib__sc__header__right {\n  display: flex;\n  align-items: center;\n}\n.ib__sc__header__right__btn-group {\n  display: flex;\n  align-items: center;\n  margin-right: 1em;\n  font-size: 0.8em;\n}\n.ib__sc__np__btn {\n  border: none;\n  outline: 0;\n  background: transparent;\n  cursor: pointer;\n  display: flex;\n  opacity: 0.5;\n  align-items: center;\n  width: 24px;\n}\n.ib__sc__calendar_switch {\n  font-size: 0.8em;\n}\n\n.ib__sc__table-out-week {\n  display: flex;\n  width: 100%;\n  overflow-y: scroll;\n}\n.ib__sc__table-out-week::-webkit-scrollbar {\n  width: 0.4em;\n  border-radius: 1em;\n}\n\n.ib__sc__table-out-week::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 6px rgba(154, 154, 154, 0.3);\n  border-radius: 0.3em;\n}\n\n.ib__sc__table-out-week::-webkit-scrollbar-thumb {\n  background-color: rgb(211, 211, 211);\n  outline: 1px solid rgb(173, 181, 190);\n}\n.ib__sc__week-date {\n  display: flex;\n  justify-content: center;\n}\n.ib__sc__week-date-btn-group {\n  display: flex;\n  justify-content: center;\n\n  border-radius: 4px;\n}\n.ib__sc__week-date-btn-group {\n  border: 1px solid #eeeeee;\n}\n\n.ib__sc__week-date__bt-text .ib__sc-form-control {\n  width: auto;\n  border: none;\n  border-left: 1px solid #eeeeee;\n  border-radius: 0;\n  border-right: 1px solid #eeeeee;\n}\n\n.ib__sc__table-week {\n  border-spacing: 0;\n  z-index: 1003;\n  margin-bottom: 100px;\n}\n\n.ib__sc__table-td-week {\n  position: relative;\n  flex: 1 1;\n  box-sizing: border-box;\n  padding: 0;\n  border: none;\n  margin-left: -1px;\n}\n\n.ib__sc__table-hr-box-week {\n  background: #ffffff;\n  border-top: 1px dashed #dbdbdb;\n  margin-top: -1px;\n  cursor: pointer;\n}\n.ib__sc__table-hr-box-week:hover {\n  background: #eff1ff;\n}\n\n.ib__sc__table-td-week.ib__sc__today{\n  background: #fffbee;\n}\n.ib__sc__table-td-week.ib__sc__today .ib__sc__truncate{\n  background: #fffbee;\n}\n.ib__sc__table-td-week.ib__sc__today .ib__sc__table-hr-box-week{\n  background: #fffbee;\n}\ntd.ib__sc__table-td.ib__sc__table-td-month.ib__sc__today {\n  background: #fffbee;\n}\n.ib__sc__today .ib__sc_month_day{\n  color: #ff9800\n}\n\n.ib__sc__tb_week_time .ib__sc__table-hr-box-week {\n  border-top: 1px solid #fff;\n}\n.ib__sc__tb_week_time .ib__sc__cell {\n  border: none;\n}\n.ib__sc__tb_week_time .ib__sc__table-hr-box-week small {\n  margin-top: -1em;\n}\n.ib__sc__time_title {\n  margin-top: -0.5em;\n  display: block;\n}\n.ib__sc__table-th {\n  text-align: center;\n  top: 0;\n  position: sticky;\n  z-index: 1001;\n  padding: 8px;\n  background: #fff;\n  border: 1px solid #ccc;\n  color: #4e4e4e;\n \n  font-weight: bold;\n  text-transform: uppercase;\n  font-size: 12px;\n  /* display: table-cell; */\n  vertical-align: middle;\n}\n.ib__sc__table-th-week {\n  box-sizing: border-box;\n  text-align: center;\n  vertical-align: middle;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ib__sc__tb-wrapper-week {\n  display: flex;\n  width: 100%;\n}\n\n.ib__sc__increment-timespan .ib__sc__btn {\n  line-height: 21px;\n  text-align: center;\n  padding: 1px 8px;\n}\n.ib__sc__cell {\n  border: 1px dashed #ccc;\n}\n.ib__sc__cell-wrapper {\n  position: relative;\n  margin: 0px;\n  width: 100%;\n  height: 100%;\n}\n.ib__sc__event-wrapper {\n  position: absolute;\n  overflow: hidden;\n}\n.ib__sc__event {\n  width: 100%;\n  box-sizing: border-box;\n  text-align: left;\n  padding: 5px 10px 0px 5px;\n}\n.ib__sc__event-box {\n  padding: 0px;\n  width: 100%;\n  height: 100%;\n\n  text-align: center;\n  box-sizing: border-box;\n  border: 2px solid #ffffff;\n  position: relative;\n  overflow: hidden;\n}\n.ib__sc__staring_event_box::before {\n  content: '';\n  display: none;\n  width: 5px;\n;\n  top: 0px;\n  bottom: 0px;\n  background-color: #ccc;\n  position: absolute;\n  left: 0;\n}\n.dragging-handler-week {\n  text-align: center;\n  display: none;\n}\n\n.ib__sc__event-box:hover .dragging-handler-week {\n  display: block;\n}\n.dragging-handler-week {\n  position: absolute;\n  cursor: re-resize;\n  left: 1px;\n  right: 1px;\n  height: 12px;\n  z-index: 100;\n  background: #ededed;\n  line-height: 10px;\n  color: #777;\n  opacity: 0.8;\n}\n\n.dragging-handler-week.top {\n  cursor: s-resize;\n  top: 0px;\n}\n.dragging-handler-week.bottom {\n  cursor: s-resize;\n  bottom: 0px;\n}\n\n.resize-event-bg {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  background: rgb(139 139 139 / 27%);\n  opacity: 1;\n  z-index: 100;\n}\n\n.placeholder {\n  /* display: none; */\n  cursor: move;\n  cursor: grab;\n  position: absolute;\n  pointer-events: none;\n  border: 1px dashed black;\n  background: red;\n}\n\n.ib__sc__daybar-week {\n  width: 100%;\n  height: 2px;\n  position: absolute;\n  background: #03a9f4;\n  z-index: 1004;\n}\n\n.ib__sc__week-time {\n  font-size: 0.7em;\n  text-align: right;\n  line-height: 1em;\n  color: #373737;\n  width: 72px;\n  margin-top: -1px;\n  padding-right: 3px;\n  border-top: 1px dashed transparent;\n}\n\n/* Add Event modal */\n\n.ib__sc-modal {\n  position: fixed;\n  z-index: 1100;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  /* display: none; */\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ib__sc-modal-content {\n  background-color: white;\n  padding: 20px;\n  width: 90%;\n  border-radius: 5px;\n  max-width: 400px;\n  position: relative;\n}\n.ib__sc__close-modal-btn {\n  position: absolute;\n  right: 0;\n  top: 0;\n  line-height: 20px;\n  height: 20px;\n  width: 20px;\n  font-weight: 700;\n  font-size: 24px;\n  background: white;\n  text-align: center;\n  color: #ccc;\n  cursor: pointer;\n}\n.ib__sc__modal_footer {\n  display: flex;\n  justify-content: space-between;\n}\n\n.ib__sc-form-control:focus {\n  color: #212529;\n  background-color: #fff;\n  border-color: #adadad;\n  outline: 0;\n}\n\n.ib__sc__form-time-row {\n  display: flex;\n  justify-content: space-between;\n}\n\n.ib__sc__form-time-row > * + * {\n  margin-left: 10px;\n}\n\n.ib__sc-label {\n  font-size: 13px;\n  margin-bottom: 5px;\n  text-transform: capitalize;\n}\n\n/* Month Calender */\n.ib__sc__table-out-week {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ib__sc__table-month {\n  border-spacing: 0;\n  z-index: 1003;\n  width: 100%;\n}\n.ib__sc__table-td-month {\n  text-align: left;\n  padding-left: 0;\n  position: relative;\n}\n\n\n.ib__sc__table-td__day_cell {\n  box-sizing: border-box;\n  padding: 10px;\n  width: 100%;\n  cursor: pointer;\n  height: 100%;\n  position: relative;\n}\n.ib__sc_month_cell {\n  /* position: relative; */\n  height: 100%;\n  width: 100%;\n}\n.ib__sc_month_cell:hover {\n  background: #eff1ff;\n}\n\n.ib__sc_month_day {\n  color: #b3b3b3;\n  font-weight: 600;\n  font-size: 0.8em;\n  line-height: 0.8em;\n  padding: 5px;\n  z-index: 1000;\n  position: absolute;\n  box-sizing: border-box;\n  bottom: 0;\n}\n\ntable.ib__sc__table-month {\n  border: none;\n  border-collapse: collapse;\n}\ntable.ib__sc__table-month td {\n  border-right: 1px solid #dfdfdf;\n  vertical-align: top;\n}\ntable.ib__sc__table-month td:first-child {\n  border-left: 1px solid #dfdfdf;\n}\ntable.ib__sc__table-month tr {\n  border-bottom: 1px solid #dfdfdf;\n}\n\n.ib__sc__table-team{\n  border-spacing: 0;\n  z-index: 1003;\n  width: 100%;\n}\n\n.ib__sc__table-team-td-team {\n  text-align: left;\n  padding-left: 0;\n  position: relative;\n}\n\ntable.ib__sc__table-team td {\n  border-right: 1px solid #dfdfdf;\n  vertical-align: top;\n}\ntable.ib__sc__table-team td:first-child {\n  border-left: 1px solid #dfdfdf;\n}\ntable.ib__sc__table-team tr {\n  border-bottom: 1px solid #dfdfdf;\n}\n\n.ib__sc__month-date {\n  display: flex;\n  justify-content: center;\n}\n.ib__sc__month-date-btn-group {\n  display: flex;\n  justify-content: center;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n\n.ib__sc__month-date__bt-text .ib__sc-form-control {\n  width: auto;\n  border: none;\n}\n\n.dragging-handler-month {\n  position: absolute;\n\n  top: 1px;\n  bottom: 1px;\n  width: 12px;\n  z-index: 100;\n\n  line-height: 10px;\n  color: #777;\n  font-size: 0.5em;\n  align-items: center;\n  opacity: 0.8;\n  display: none;\n  justify-content: center;\n  background: #ededed;\n}\n\n.dragging-handler-month.left {\n  cursor: w-resize;\n  left: 0px;\n}\n.dragging-handler-month.right {\n  cursor: w-resize;\n  right: 0px;\n}\n\n.ib__sc__event-box:hover .dragging-handler-month {\n  display: flex !important;\n}\n.dragging .dragging-handler-month {\n  display: flex;\n}\n.dragging-handler-month:hover {\n  display: flex;\n}\n.ib__sc__event-wrapper.dragging {\n  z-index: 3003;\n}\n.ib__sc__event-wrapper-month.overlap-start {\n  left: -1px !important;\n}\n.ib__sc__event-wrapper-month.overlap-end {\n  width: calc(100% + 2px) !important;\n}\n\n.ib__sc__event-wrapper-month.overlap-start .ib__sc__event-box {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left: 0;\n}\n\n.ib__sc__event-wrapper-month.overlap-end .ib__sc__event-box {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right: 0;\n}\n\n.ib__sc__np__btn img {\n  width: 100%;\n}\n");export { G as ReactCalendarScheduler, D as TimeInput };
//# sourceMappingURL=index.esm.js.map
